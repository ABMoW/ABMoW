<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Army Builder Data">
  <linkset id="flagship">
    <link option="gnSpace" priority="402" index="5">
      <live><![CDATA[gnTags.isFlagship & gnRoster.canWizard]]></live>
      </link>
    <link option="gnHeader" name="{macro color1} -- Wizard (optional) --{text 010101}" priority="403" cost="0." index="1">
      <live><![CDATA[gnTags.isFlagship & gnRoster.canWizard]]></live>
      </link>
    <link option="gnSpace" priority="502" index="7">
      <live><![CDATA[gnTags.isFlagship & !gnRoster.noMoWCards]]></live>
      </link>
    <link option="gnHeader" name="{macro color1} -- Man O&apos;War Cards --{text 010101}" priority="503" cost="0." index="10">
      <live><![CDATA[gnTags.isFlagship & !gnRoster.noMoWCards]]></live>
      </link>
    <link option="mowCards" name="Admiral&apos;s Man O&apos;War Card" priority="507" nature="auto" cost="0." textcost="Free" index="6"></link>
    <link option="flagship" index="0"></link>
    <link option="mowCards" rangemax="1000" index="9"></link>
    <link option="wzChamp" index="2">
      <exclref id="wizard"/>
      </link>
    <link option="wzLord" index="4">
      <exclref id="wizard"/>
      </link>
    <link option="wzMaster" index="3">
      <exclref id="wizard"/>
      </link>
    <live>!ally.?</live>
    </linkset>
  <option id="wzChamp" name="Wizard Champion" abbrev="" category="flagship" priority="404" cost="50">
    <live><![CDATA[gnTags.isFlagship & gnRoster.canWizard]]></live>
    </option>
  <option id="wzLord" name="Wizard Lord" abbrev="" category="flagship" priority="406" cost="150">
    <live><![CDATA[gnTags.isFlagship & gnRoster.canWizard]]></live>
    </option>
  <option id="wzMaster" name="Wizard Master" abbrev="" category="flagship" priority="405" cost="100">
    <live><![CDATA[gnTags.isFlagship & gnRoster.canWizard]]></live>
    </option>
  <option id="flagship" name="{B}Flagship{/B}" abbrev="" category="flagship" footnote="yes" priority="401" cost="0" textcost=" ">
    <evaluate>~ Assigning tag to entity allows wizard and other admiral traits
var retval as number
retval = entity.assign[gnTags.isFlagship]</evaluate>
    </option>
  <option id="gnHeader" name="gnHeader" abbrev="" category="flagship" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpace" name=" " abbrev="" category="flagship" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="mowCards" name="Add&apos;l Man O&apos;War Cards" abbrev="" category="flagship" priority="510" cost="25">
    <live><![CDATA[gnTags.isFlagship & !gnRoster.noMoWCards]]></live>
    </option>
  <option id="hellblastr" name="Hellblaster" abbrev="" category="antiflyer" priority="0" cost="25"></option>
  <unit id="griffon" name="Griffon Rider" description="Imperial Griffon Rider" cost="25." textcost="75" idtag="yes" statset="flyerStats" minsize="3" maxsize="3" startsize="3">
    <statval stat="honours" value="1"/>
    <statval stat="move" value="18&quot;"/>
    <statval stat="wounds" value="2"/>
    <tag group="Group" tag="Flyers"/>
    <tag group="race" tag="empire"/>
    </unit>
  <unit id="greatship" name="Greatship" description="Imperial Greatship" cost="150." squadname="Greatship" idtag="yes" statset="shipStats" maxsize="1" startsize="1">
    <statval stat="crew" value="5"/>
    <statval stat="honours" value="6"/>
    <linkref id="flagship"/>
    <link option="hellblastr" index="0"></link>
    <tag group="race" tag="empire"/>
    <tag group="Group" tag="MenOWar"/>
    </unit>
  <unit id="hellhammer" name="Hell-hammer" description="Imperial Hell-hammers" cost="50." textcost="150" squadname="Hell-hammer Squadron" idtag="yes" statset="shipStats" minsize="3" maxsize="3" startsize="3">
    <statval stat="crew" value="1"/>
    <statval stat="honours" value="2"/>
    <tag group="Group" tag="ShipOTLine"/>
    <tag group="race" tag="empire"/>
    </unit>
  <unit id="ironfist" name="Ironfist" description="Imperial Ironfists" cost="25." textcost="75" squadname="Ironfist Squadron" idtag="yes" statset="shipStats" minsize="3" maxsize="3" startsize="3">
    <statval stat="crew" value="1"/>
    <statval stat="honours" value="1"/>
    <tag group="Group" tag="ShipOTLine"/>
    <tag group="race" tag="empire"/>
    </unit>
  <unit id="wolfship" name="Wolfship" description="Imperial Wolfships" cost="100." textcost="300" squadname="Wolfship Squadron" idtag="yes" statset="shipStats" minsize="3" maxsize="3" startsize="3">
    <statval stat="crew" value="3"/>
    <statval stat="honours" value="4"/>
    <tag group="Group" tag="ShipOTLine"/>
    <tag group="race" tag="empire"/>
    </unit>
  <unit id="wargalley" name="Wargalley" description="Imperial Wargalleys" cost="50." textcost="150" squadname="Wargalley Squadron" idtag="yes" statset="shipStats" minsize="3" maxsize="3" startsize="3">
    <statval stat="crew" value="2"/>
    <statval stat="honours" value="2"/>
    <tag group="Group" tag="ShipOTLine"/>
    <tag group="race" tag="empire"/>
    </unit>
  <scripts></scripts>
  <rule id="minWolfs" message="Must include at least one squadron of three Wolfships" summary="Minimum Wolfships">
    <test>roster.empire</test>
    <valid><![CDATA[validif (this.tagcount[unitid.wolfship] >= 1)
]]></valid>
    </rule>
  <rule id="minWarglly" message="Must include at least one squadron of three Wargalleys" summary="Minimum Wargalleys">
    <test>roster.empire</test>
    <valid><![CDATA[validif (this.tagcount[unitid.wargalley] >= 1)]]></valid>
    </rule>
  <rule id="maxWarglly" message="May only have 2 Wargalley squadrons for each Greatship and each Wolfship squadron" summary="Maximum Wargalleys">
    <test>roster.empire</test>
    <valid><![CDATA[var cnt as number
var others as number

cnt = this.tagcount[unitid.wargalley] 
others = this.tagcount[unitid.wolfship]*2 + this.tagcount[unitid.greatship]*2

validif (cnt <= others)]]></valid>
    </rule>
  <rule id="minFlagshp" message="You must have one Flagship in the Fleet" summary="Must have a Flagship">
    <test/>
    <valid><![CDATA[validif (tagcount[gnTags.isFlagship] > 0)
]]></valid>
    </rule>
  <rule id="maxFlagshp" message="You must have only one Flagship in the Fleet" summary="Can only have 1 Flagship" scope="unit">
    <test>gnTags.isFlagship</test>
    <valid><![CDATA[validif (overall.tagcount[gnTags.isFlagship] < 2)]]></valid>
    </rule>
  </document>
